<project name="scala-intro" default="build">

  <property name="scala.home" location="C:/Prg/scala-2.7.2-final" />

  <taskdef resource="scala/tools/ant/antlib.xml">
    <classpath>
      <pathelement location="${scala.home}/lib/scala-compiler.jar" />
      <pathelement location="${scala.home}/lib/scala-library.jar" />
    </classpath>
  </taskdef>

  <target name="init">
    <mkdir dir="classes" />
  </target>
  
  <target name="build" depends="init">
    <scalac srcdir="src" destdir="classes" classpath="${scala.home}/lib/scala-library.jar;lib/servlet-api.jar">
      <include name="code.scala" />
    </scalac>

    <war destfile="scalaExamples.war" webxml="etc/web.xml">
      <fileset dir="etc/html"/>
      <lib dir="${scala.home}/lib">
        <include name="scala-library.jar" />
      </lib>
      <lib dir="lib">
        <exclude name="servlet-api.jar"/>
      </lib>
      <classes dir="classes"/>
    </war>
  </target>
  
  <target name="clean">
    <delete file="scalaExamples.war" />
    <delete dir="classes" />
  </target>
  
</project>
